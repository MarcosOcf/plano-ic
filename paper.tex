% Possíveis TODO
% - linkar as seções de pesq à seção histórica
\documentclass[a4paper,titlepage]{article}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[portuges]{babel}
% setspace - \doublespace \onehalfspace
% fullpage - ??
\usepackage{verbatim,url}
\usepackage[dvips]{graphicx}
\usepackage[bf]{subfigure}
\usepackage[bf]{caption}
\usepackage{amsmath, amssymb, algorithm, algorithmic,fullpage,setspace}
\usepackage{mathtools,empheq}
\usepackage[pagebackref=true,breaklinks=true,letterpaper=true,colorlinks,bookmarks=false]{hyperref}

\newtheorem{definition}{Definição}
\newtheorem{theorem}{Teorema}
\newtheorem{notation}{Notação}
\floatname{algorithm}{Algoritmo}

\newenvironment{changemargin}[2]{\begin{list}{}{
   \setlength{\topsep}{0pt}\setlength{\leftmargin}{0pt}
   \setlength{\rightmargin}{0pt}
   \setlength{\listparindent}{\parindent}
   \setlength{\itemindent}{\parindent} \setlength{\parsep}{0pt plus 1pt}
   \addtolength{\leftmargin}{#1}\addtolength{\rightmargin}{#2}
}\item }{\end{list}}

\newcommand{\scilab}{\textsc{Scilab}}
\newcommand{\matlab}{\textsc{Matlab}}
\newcommand{\sip}{SIP}
\newcommand{\animal}{AnImaL}
\newcommand{\eg}{{p.\ ex.}}
\newcommand{\etc}{{\it etc}}
\newcommand{\ie}{{\it i.e.}}
\newcommand{\etal}{{\it et al.}}
\newcommand{\id}{\text{\emph{Id}}}
\newcommand{\dof}{\textsc{dof}}
\newcommand{\ransac}{\textsc{ransac}}
\newcommand{\sift}{\textsc{sift}}
\newcommand{\svd}{\textsc{svd}}
\newcommand{\sfm}{\textsc{sfm}}

\newcommand{\Gama}{\boldsymbol{\Gamma}}
\newcommand{\gama}{\boldsymbol{\gamma}}
\newcommand{\bsigma}{\boldsymbol{\sigma}}
%\newcommand{\Gama}{\Gamma}
%\newcommand{\gama}{\gamma}
\newcommand{\T}{\boldsymbol{T}}
\newcommand{\N}{\mathbf{N}}
\newcommand{\NSurface}{\mathbf{N}}
\newcommand{\Nlocal}{\overline{\N}} % normal in local coordinates
\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\tDt}{t+\Delta t}
\newcommand{\bpsi}{\boldsymbol{\boldsymbol{\psi}}}
\newcommand{\bp}{\mathbf p}
\newcommand{\deldt}[1]{\frac{\partial#1}{\partial t}}
\newcommand{\ddt}[1]{\frac{d #1}{dt}}
\newcommand{\delds}[1]{\frac{\partial#1}{\partial s}}
\newcommand{\mybar}[1]{\overline{#1}}
\newcommand{\norm}[1]{\|#1\|}
\newcommand{\I}{\mathbf{I}}
\newcommand{\brho}{\boldsymbol{\rho}}
\newcommand{\lightrgb}{\boldsymbol{l}}
\newcommand{\B}{\boldsymbol{B}}
\renewcommand{\t}{\boldsymbol{t}}
\newcommand{\n}{\boldsymbol{n}}
\renewcommand{\b}{\boldsymbol{b}}
\newcommand{\e}{\boldsymbol{e}}
\newcommand{\f}{\boldsymbol{e}_3}
\newcommand{\ff}{\mathbf{f}}
\newcommand{\hf}{\boldsymbol{\hat{f}}}
\newcommand{\g}{\boldsymbol{g}}
\newcommand{\G}{\boldsymbol{G}}
\newcommand{\bc}{\boldsymbol{c}}
\newcommand{\Curve}{\Gamma}
%\newcommand{\X}{\boldsymbol{X}}
%\newcommand{\x}{\boldsymbol{x}}
\newcommand{\X}{\mathbf{X}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\tilx}{\tilde x}
\newcommand{\tily}{\tilde y}
\newcommand{\tilgama}{\tilde \gama}
\newcommand{\ugama}{\hat{\gama}} %unit gama
\newcommand{\br}{\bar r}
\newcommand{\Kc}{\mathbf K_c}
\newcommand{\Kim} {\mathcal K_{im}}
\newcommand{\lepi}{\mathbf r}
\newcommand{\itan}{\tan^{-1}}
\newcommand{\uu}{\xi}
\newcommand{\buu}{\bar \uu}
\newcommand{\bvv}{\bar \vv}
\newcommand{\vv}{\eta}
\newcommand{\VV}{\mathbf{V}} % translational velocity
\newcommand{\VVspeed}{V} % translational velocity
\newcommand{\field}{\boldsymbol\chi}
\newcommand{\ufield}{\hat{\boldsymbol{\chi}}}
\newcommand{\fieldc}{\chi} % field component
\newcommand{\transl}{\mathcal{T}}
\newcommand{\rot}{\mathcal{R}}
\newcommand{\albedo}{\alpha}
\newcommand{\depth}{\rho}      % depth as z
\newcommand{\udepth}{{\hat{\rho}}} % depth along ray
\newcommand{\ttransl}{\T} % translation tangent
\newcommand{\surface}{\mathcal{M}} % surface/manifold
\newcommand{\surf}{\mathcal{M}} % surface/manifold short
\newcommand{\jacm}{\mathtt{J}} % Jacobian matrix
\newcommand{\xbar}{\bar x}
\newcommand{\ybar}{\bar y}
\newcommand{\zbar}{\bar z}

\newcommand{\bdelta}{\boldsymbol \delta}
%\newcommand{\X}{\boldsymbol{X}}
%\newcommand{\x}{\boldsymbol{x}}
%\newcommand{\X}{\mathbf{X}}
%\newcommand{\x}{\mathbf{x}}
\newcommand{\boldu}{\mathbf{u}}
\newcommand{\boldv}{\mathbf{v}}
\newcommand{\boldw}{\mathbf{w}}
\newcommand{\tgtveloc}{\tilde\alpha} % real tangential velocity

\begin{document}


\begin{titlepage}
%\begin{changemargin}{-0.5cm}{-1cm}
\renewcommand{\title}{%
  {\huge\textbf{\textsf{Projeto de Pesquisa}}}\\[60pt]
%  \mbox{Integração, Implementação e Aplicação à Bioinformática}%
%  Evolution digitaler Schaltkreise%
}
\renewcommand{\author}{{\Large \textsf{Ricardo Fabbri}}}
\renewcommand{\date}{\textsf{IPRJ--UERJ}\\\textsf{Junho de 2011}}
\newcommand{\info}{%
%  \raisebox{4pt}[-4pt]{%
%\includegraphics[height=0.8cm]{figs/logoIPRJbw2.eps}\\
\includegraphics[height=0.8cm]{figs/logoIPRJ.eps}\\
%
%  Grupo de Visão Cibernética \\
%  Instituto de Física de São Carlos\\
%  Universidade de São Paulo\\[.3cm]
%
%  Instituto de Ciências Matemáticas \\
%  e de Computação\\
%  Universidade de São Paulo\\[1.5cm]
 \date
%  \textbf{Orientador}\\[4pt]
%  Prof.\ Dr.\ Luciano da Fontoura Costa\\[4pt]
%  \textbf{Processo}\\[4pt]
%   01/09335-8
}

%% Abstand zwischen oberem Blattrand und Titel.
\newlength{\topToTitle} 
\setlength{\topToTitle}{90pt}

%% Abstand zwischen linkem Blattrand und Titel.
\newlength{\leftToTitle} 
%\setlength{\leftToTitle}{-50pt}
\setlength{\leftToTitle}{0pt}

%% Abstand zwischen Titel und Info-Feld.
\newlength{\titleToInfo} 
\setlength{\titleToInfo}{13cm}

%% \myTextWidth erhoehen, um Info-Feld weiter nach Rechts zu schieben.
%\newlength{\myTextWidth}
%\setlength{\myTextWidth}{\textwidth}
%\advance\myTextWidth by 1.5cm


\thispagestyle{empty}
\vspace*{\topToTitle}
\begin{center}
%\begin{minipage}
%\centering
%  \sffamily
%  \hspace*{\leftToTitle}\begin{minipage}{11cm}%{8.5cm}
%    \Large\textbf{Memorialll}\\[1.5cm]
    \vspace{1.5cm}
    \title
    \author
%  \end{minipage}\\

  %% \enlargethispage{} um ggfs. Titel und Info-Feld weiter
  %% auseinanderziehen zu koennen.
  \vspace*{\titleToInfo}

%  \begin{minipage}{\textwidth}
%    \flushright
    \info
%  \end{minipage}
%\end{minipage}%
\end{center}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\end{changemargin}
\end{titlepage}

%\tableofcontents
%\contentsline {section}{Refer\^{e}ncias}{16}
%\newpage
%\doublespacing
%\onehalfspacing
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TODO  TODO TODO 
%  - italico em spots e sub-arrays
%  - XXX
%  - @@@
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 


\section{Contextualização}

O presente plano de pesquisa se refere a atividades propostas para uma posição
de professor visitante no IPRJ da UFRJ, com duração de 11 meses. Pretende-se
trabalhar no grupo de pesquisa do Prof. Francisco Moura Neto, do Departamento de
Modelagem Computacional, com atividade principal de pesquisa descrita na próxima
seção.  Ademais, pretende-se colaborar com outros grupos
de pesquisa do IPRJ na realização de projetos e publicação de artigos.
Também pretende-se contribuir nos programas de pós-graduação em Modelagem
Computacional (Mestrado d Doutorado) e no curso de Engenharia de Computação,
incluindo a apresentação de seminários.

\section{Reconstrução 3D a partir de Múltiplas Perspectivas e Calibragem de
Câmeras usando-se Geometria Diferencial}\label{sec:3drec}

\subsubsection{Introdução e Proposta}
A calibragem de imagens tiradas a partir de múltiplos pontos de vista, como no caso de
vídeo ou sistemas de múltiplas câmeras, e a reconstrução 3D de cenas a partir
destas imagens são problemas fundamentais em Visão Computacional. Aplicações
incluem a reconstrução de modelos 3D para uso em videogames~\cite{Ablan:3DPhoto:book},
filmes~\cite{Ablan:3DPhoto:book},
arqueologia,
arquitetura, modelagem 3D urbana (\eg, Google
Streetview); técnicas de \emph{match-moving} em cinematografia para fusão de
conteúdo virtual e filmagem real~\cite{Dobbert:Matchmoving:book}, a organização
de uma coleção de fotografias com relação a uma cena (\eg, o sistema
\emph{Phototourism}~\cite{Argarwal:Snavely:etal:ICCV09} e a funcionalidade
\emph{Look Around} do Google Panoramio e Steet View), manipulação
robótica, e a metrologia a partir de câmeras na
indústria automobilística.

Uma tecnologia operacional tem evoluido, mais recentemente para sistemas de grande
escala~\cite{Argarwal:Snavely:etal:ICCV09,Pollefeys:VanGool:etal:handheld:IJCV2004},
a partir do desenvolvimento da detecção robusta de
\emph{features}~\cite{mikolajczyk:schmid:IJCV04}, o
\emph{fitting} robusto e seleção de correspondências baseados em \ransac, e o
desenvolvimento de métodos de geometria projetiva para calibrar duas ou três
imagens e progressivamente adicionar imagens e extrair estrutura 3D dessas
\emph{features} na forma de nuvens de pontos. A minha pesquisa reconhece a importância
desses avanços, mas também identifica problemas que ocorrem na prática, como por
exemplo a falta parcial ou total de \emph{features}. Minha pesquisa propõe,
assim, desenvolver uma nova tecnologia baseada em fragmentos de curvas gerais,
no lugar de pontos. Além de curvas, pesquiso também a reconstrução detalhada de
superfícies gerais, em vez de apenas planos, como é comum na literatura em visão
estéreo onde as câmeras já estão calibradas. O desenvolviento desta tecnologia
requer uma mudança de foco além da tradicional geometria projetiva para a
geometria diferencial, incluindo a geometria diferencial projetiva. A tecnologia
desenvolvida nesta pesquisa para calibrar e reconstruir a partir de múltiplas
vistas aumentará o arsenal atual da área, e é baseada na construção de um esboço
de curvas 3D chamado o \emph{3D Curve Sketch}. Estas curvas delineam contornos e
marcas das superfícies que formam a cena 3D a ser reconstruída, e formam uma
estrutura de suporte sobre a qual as superfícies serão reconstruídas.

Minha pesquisa tem como objetivo investigar e promover o uso de evidência de
fragmentos de curvas que são imagens de curvas 3D projetadas, para calibragem,
casamento (\emph{matching}) e reconstrução na forma de uma estrutura eficiente
de curvas 3D, o \emph{3D Curve Sketch}. Essa estrutura pode então ser usada para
reconstruir fragmentos de superfícies, seguidos de superfícies mais completas.
Minha pesquisa propõe o desenvolvimento de uma \emph{pipeline} completa para
calibragem, reconstrução e visão estéreo de múltiplas vistas baseada em
fragmentos de curvas gerais, as quais restringem e guiam a reconstrução de
superfícies. Enquanto a geometria projetiva clássica usada no atual estado da
arte é adequada para a modelagem de pontos e, globalmente, retas, e outras
curvas algébricas como cônicas, bem como superfícies planares, na minha pesquisa
exploro a extensão do poder de modelagem na área visão computacional 3D com o
desenvolvimento de uma teoria de geometria diferencial para curvas e superfícies
gerais em múltiplas vistas.

\paragraph{As vantagens das curvas.}
As curvas provenientes de descontinuidade de bordas nas imagens são mais densas
e mais bem-estruturadas do que pontos isolados, e representam eficientemente a
imagem ou cena 3D subjacente. Elas fornecem um bom compromisso entre uma
representação altamente redundante na forma de arrays de píxels, e uma
representação altamente esparsa das nuvens de pontos de interesse. Isso permite
o cálculo rápido de reconstruções 3D (os \emph{3D curve sketch}), que, apesar de
não possuirem superfícies explícitas, são ainda reconhecíveis, estruturadas, e
de eficiente manipulação e armazenagem. Essa efficiência representacional é
evidenciada em uma tendência recente em computação gráfica de usar renderizações
baseadas em curvas (\emph{line-based} rendering) para aplicações de internet que
exigem eficiência, e também por razões estéticas. A riqueza estrutural de curvas
é illustrada pelo fato de ser impossível registrar uma nova imagem não-calibrada
com relação a uma nuvem de pontos 3D por si só, ao passo que essa tarefa se
torna possível com curvas 3D dada a maior estruturação geométrica (\eg,
reprojetando-se as curvas 3D na nova imagem e alinhando-as às curvas detectadas
na imagem). Ademais, é bem sabido que representações basedas em bordas
representam eficiente o conteúdo de uma imagem, o que
motiva uma reconstrução de curvas 3D eficiente para armazenar a informação
geométrica mais relevante de uma cena 3D. Curvas também têm maior invariância do
que pontos de interesse a mudanças de iluminação, são mais estáveis sob uma
maior separação entre as imagens, e são mais precisamente
localizadas na direção normal. Ademais, estrutura de curvas de bordas em uma
imagem é correlacionada com propriedades das superfícies subjacentes: curvas
estacionárias (como as de reflectância) são condições de contorno para
reconstrução de superfícies, e a variação de contornos de oclusão sob diferentes
pontos de vista indica a curvatura da superfície.

\subsubsection{Teoria de Geometria Diferencial de Curvas em Múltiplas Perspectivas}
Darei continuidade ao que iniciei em meu Ph.D. -- um estudo completo da geometria local de curvas
gerais em múltiplas vistas (curvas seccionalmente diferenciáveis).  A teoria é
de importância fundamental para qualquer aplicação que requer relações entre
imagens e a estrutura 3D de curvas, tais como o casamento estereoscópico,
rastreamento (\emph{tracking}) de curvas, e estimação de câmeras. Já produzi uma
abordagem unificada para modelagem de estruturas curvilíneas em múltiplas
vistas, cobrindo curvas fixas, de oclusão, e não-rígidas, para os casos de um
número discreto de pontos de vista e movimento diferenciável de câmera. Também
continuarei um estudo no caso da geometria diferencial de superfícies curvas,
sua variação local de iluminação, bem como o comportamento local de curvas em
superfícies.

Pretendo dar continuidade a uma linha de pesquisa que realizei junto ao prof.\ Peter Giblin 
em que desenvolvemos um método para calibragem de câmera, dados
medidas de geometria diferencial. Dada
uma curva 3D, e uma projeção perspectiva 2D, bem como geometria diferencial
(tangente, curvaturas, \etc) medida em ambas as curvas, desenvolvi um método que
permite calibrar as câmeras, recuperando o centro de projeção relativo à curva
3D, bem como a rotação da câmera, Figura~\ref{fig:pose:from:curves}. Este método é fundamental para o uso em um
sistema de auto-calibração de grande escala, em que pontos de vista são
calibrados um a um relativos a uma reconstrução inicial. 
\begin{figure}
\centering
  \includegraphics[width=0.35\linewidth]{figs/pose-from-curves.eps}
  \includegraphics[width=0.35\linewidth]{figs/pose-from-curves-tangents.eps}
\caption{% 
(a) O problema de se determinar a pose da câmera, $\rot$, $\transl$, dadas curvas
espaciais em um sistema global de coordenadas e suas projeções em um sistema de
coordenados da imagem. Minha abordagem consiste  em (b) determinar $\rot$,
$\transl$, dados pontos-tangentes em (ou seja, geometria diferencial local) em
um sistema de coordenadas global 3D e na imagem.
}\label{fig:pose:from:curves}
\end{figure}
Durante minha estadia no IPRJ trabalharei em um
problema similar para três câmeras, sem exigir o conhecimento de modelo de curva
3D. Dados pontos de curva atribuídos de geometria diferencial (\eg, tangente) em
correspondência entre três imagens, o objetivo é determinar a pose relativa das
câmeras, Figura~\ref{fig:trifocal:pose}.
\begin{figure}
\begin{center}
   \centering
   \includegraphics[height=2in]{figs/trifocal-pose-from-curves-tangents.eps}
\end{center}
   \vspace{-0.7truecm}
   \caption{
Determinando a pose de três câmeras a partir de geometria diferencial em
correspondência.
}
\label{fig:trifocal:pose}
\end{figure}

\subsubsection{3D Curve Sketch: Um Sistema de Reconstrução 3D e
Calibragem com Curvas}
Iniciei em meu Ph.D.\ uma abordagem, o \emph{3D Curve Sketch}, para o \emph{matching} e
reconstrução de curvas a partir de múltiplas vistas de cenas gerais, e para
otimizar a calibracão dessas câmeras também a partir de curvas. As curvas
utilizadas são fragmentos de bordas obtidos através de um \emph{edge
linker}~\cite{Tamrakar:Kimia:ICCV07}, veja a Figura~\ref{fig:edgemaps:contours}
para uma idéia geral de alguns aspectos práticos do sistema. Neste trabalho inicial, modelos iniciais de
câmera são fornecidos, os quais típicamente são imprecisos, e produz uma coleção
densa de curvas 3D, o \emph{3D Curve Sketch}. Pretendo aplicar os métodos de
autocalibragem da seção anterior para ajudar a produzir um sistema totalmente
automático.

\begin{figure}[h!]
\begin{center}
%   \includegraphics[width=1.0\linewidth]{figs/3d-curve-sketch/system-diagram.eps}
\includegraphics[width=0.90\linewidth]{figs/3d-curve-sketch/capitol/capitol-edges3-nsf.eps}
\end{center}
   \vspace{-0.7truecm}
   \caption{
   (a) Um subconjunto de vistas da sequência ``Capitol''; 
   (b) bordas sub-pixel com um limiar baixo, usadas para gerar 
   curvas agrupadas (c) o mesmo a um limiar mais alto, usadas em vistas de
   confirmação; (d) curvas com tamanho~$>$~40 usadas para uma reconstrução
   inicial; (e) curvas menores usadas para reconstrução final; (f) uma curva é
   selecionada na imagem 1 e as curvas candidatas na imagem 2 com suficiente
   sobreposição epipolar são marcadas em azul. Nas próximas três imagens, a
   hipótese de curva 3D reprojetada é mostrada em azul claro, confirmada em (g)
   mas rejeitada em (h) e (i). O exemplo em (i) mostra a necessidade de
   orientação (geometria diferencial) na presença de ruído.}
\label{fig:edgemaps:contours}
\end{figure}

O sistema prático inicial foi publicado na conferência IEEE Computer Vision and Pattern
Recognition (CVPR) 2010~\cite{Fabbri:Kimia:CVPR10}. Pretende-se realizar no IPRJ
um artigo
relatando uma versão mais avançada deste sistema a ser enviado para
publicação na IEEE Pattern Analysis and Machine Intelligence.

\subsection{Desenvolvimento de Software Livre para Visão
Computacional}\label{sec:sip}

Pretende-se continuar o desenvolvimento de software livre, como uma
forma de contribuir para a sociedade, angariar colaborações,
garantir um controle de qualidade, e disseminar a pesquisa.

\section{Cronograma das Atividades}
A tabela abaixo mostra o cronograma para as principais atividades descritas. Para a
execução deste projeto, o período foi dividido em etapas aproximadamente
trimestrais.
\begin{center}
\begin{tabular} {||r|c|c|c|c||}
\hline
\textbf{Etapas} & 1 & 2 & 3 & 4 \\
\hline
Auto-calibração Trifocal & X & X &   & \\
\hline
Sistema 3D Curve Sketch &   & X & X & X \\
\hline
Estudo de Geometria Algébrica & X & X &   &  \\
\hline
Experimentos de Larga escala &   &   & X & X\\
\hline
Software livre &   & X & X & X\\
\hline
Elaboração de Publicações &   & X & X & X\\
\hline
\end{tabular}
\end{center}



%\nocite{Fabbri:2002}
\addcontentsline{toc}{section}{Refer\^{e}ncias}
%\bibliographystyle{ieeetr}
%\bibliography{personal,strings,shading,multiview,motion,Kimia,catagorization,edge-linking,deformable,medical,graphics,active-contours,texture,imaging,tracking,shape-papers,bib-header,video,math-books,math,psych-books,metric,edge,leymarie_pami_scaffold,vision-books,vision,nn-search,multidimscaling,psychophysics,indexing,segmentation,image-databases,shape-matching,neuro,skeleton,skeleton2D,aspect-graphs,recognition,surface-networks,ridge,proceedings,perceptual-grouping,continuation,graph-matching-2,cooper}
\input{paper.bbl}

% Assinaturas:
%\newpage
%\ \\\vspace{7cm}
%\center $\overline{\ \ \ Ricardo\ Fabbri\ \ \ }$
%\ \\\vspace{4cm}
%\center $\overline{\ \ \ Luciano\ da\ Fontoura\ Costa\ \ \ }$
\end{document}
